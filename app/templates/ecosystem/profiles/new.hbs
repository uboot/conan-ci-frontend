{{page-title "New Profile"}}

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><LinkTo @route="index">Ecosystems</LinkTo></li>
    <li class="breadcrumb-item active" aria-current="page"><LinkTo @route="ecosystem" @model={{this.model}}>{{this.model.name}}</LinkTo></li>
    <li class="breadcrumb-item active" aria-current="page">New Profile</li>
  </ol>
</nav>

<h1>New Profile</h1>

<section>
  <BsForm @onSubmit={{action "createProfile"}} @model={{this.profile}} as |form|>
    <form.element @controlType="input" @label="Name" @property="name" />
    <form.element @controlType="input" @label="Container" @property="container" />
    <h4>Settings</h4>
    {{#each this.profile.settings as |setting|}}
      <BsForm @model={{setting}} as |form|>
        <div class="row">
          <div class="col">
            <form.element @controlType="input" @property="key" as |el|>
              <el.control placeholder="Key" />
            </form.element>
          </div>
          <div class="col">
            <form.element @controlType="input" @property="value" as |el|>
              <el.control placeholder="Value" />
            </form.element>
          </div>
        </div>
      </BsForm>
    {{/each}}
    <BsButton @type="primary" @onClick={{action "addSetting"}}>Add Setting</BsButton>
    <LinkTo @route="ecosystem" @model={{this.model}} class="btn btn-secondary">Cancel</LinkTo>
    <form.submitButton>Create</form.submitButton>
  </BsForm>
</section>